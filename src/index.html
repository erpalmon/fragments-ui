<h1>Fragments â€“ Manual Test UI</h1>

<!-- New: auth controls (wired in app.js) -->
<div style="margin:8px 0;">
  <button id="btnSignIn">Sign in</button>
  <button id="btnSignOut">Sign out</button>
  <span id="authStatus" style="margin-left:8px; font-size:12px; color:#555;"></span>
</div>

<div style="display:flex; gap:12px; align-items:flex-start; margin-bottom:12px;">
  <div style="flex:1;">
    <label>API Base URL</label>
    <input id="apiBase" type="text" placeholder="http://localhost:8080" style="width:100%; padding:8px;" />
    <div class="small">Use your EC2 URL when testing remotely.</div>
  </div>
  <div style="flex:1;">
    <label>Access Token (Bearer)</label>
    <input id="token" type="text" placeholder="eyJ..." style="width:100%; padding:8px;" />
    <div class="small">Paste Cognito access token, or leave blank if your auth.js auto-injects.</div>
  </div>
</div>

<label>Fragment Type</label>
<select id="fragType" style="width:100%; padding:8px; margin-bottom:8px;">
  <option value="text/plain">text/plain</option>
  <option value="text/markdown">text/markdown</option>
  <option value="application/json">application/json</option>
</select>

<label>Content</label>
<textarea id="content" rows="8" placeholder="Write text, markdown, or JSON here..." style="width:100%; padding:8px;"></textarea>

<div style="margin-top:12px;">
  <button id="btnCreate" style="padding:8px 12px;">Create Fragment (POST /v1/fragments)</button>
  <button id="btnList" style="padding:8px 12px;">List Fragments (GET /v1/fragments?expand=1)</button>
</div>

<h2>Result</h2>
<div id="result"></div>

<!-- keep this at the end of <body> -->
<script type="module" src="./app.js"></script>

